(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b90b07"],{"30cf":function(t,e,n){},"365c":function(t,e,n){"use strict";var a=n("bc3a"),i=n.n(a),r=i.a.create({baseURL:"https://www.easy-mock.com/mock/592501a391470c0ac1fab128",timeout:5e3});r.interceptors.request.use((function(t){return t}),(function(t){return console.log(t),Promise.reject()})),r.interceptors.response.use((function(t){if(200===t.status)return t.data;Promise.reject()}),(function(t){return console.log(t),Promise.reject()}))},a821:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-lx-home"}),t._v(" 任务大厅\n                ")])],1)],1),n("div",{staticClass:"container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.pictLoading,expression:"pictLoading"}],ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"","header-cell-class-name":"table-header","element-loading-text":"数据正在加载中","element-loading-spinner":"el-icon-loading"}},[n("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),n("el-table-column",{attrs:{prop:"order_no",label:"订单号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.handleWinnerInfo(e.$index,e.row)}}},[t._v(t._s(e.row.order_no))])]}}])}),n("el-table-column",{attrs:{prop:"first_name",label:"姓氏",align:"center"}}),n("el-table-column",{attrs:{prop:"sex",label:"性别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(0==e.row.sex?"女":"男"))])]}}])}),n("el-table-column",{attrs:{prop:"born_time",label:"出生日期",align:"center"}}),n("el-table-column",{attrs:{prop:"package_name",label:"套餐",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.package_type?n("el-tag",{attrs:{type:"success"}},[t._v(t._s(e.row.package_name))]):t._e(),2==e.row.package_type?n("el-tag",{attrs:{type:"warning"}},[t._v(t._s(e.row.package_name))]):t._e(),3==e.row.package_type?n("el-tag",{attrs:{type:"danger"}},[t._v(t._s(e.row.package_name))]):t._e()]}}])}),n("el-table-column",{attrs:{prop:"reply_count",label:"回复总量",align:"center"}}),n("el-table-column",{attrs:{prop:"residualReplyCount",label:"剩余回复数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.rynum_r(e.row)))]}}])}),n("el-table-column",{attrs:{prop:"create_time",label:"发布时间",align:"center"}}),n("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.t_status(e.$index,e.row)))]}}])}),n("el-table-column",{attrs:{label:"操作",width:"210",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.handleFind(e.$index,e.row)}}},[t._v("查看")]),2==t.winShow[e.$index]?n("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(n){return t.handleWin(e.$index,e.row)}}},[t._v("投标")]):n("el-button",{attrs:{type:"success",size:"mini"}},[t._v("已投标")]),2==t.edit[e.$index]?n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("稿件")]):n("el-button",{attrs:{type:"warning",size:"mini"}},[t._v("已投稿")])]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),n("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"70px"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"地址"}},[n("el-input",{model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1)],1)},i=[],r=(n("365c"),{name:"basetable",data:function(){return{pictLoading:!1,merchant_data:[],tableData:[],currentPage:1,totalCount:1,pageSizes:[10,15,20],PageSize:10,multipleSelection:[],delList:[],editVisible:!1,pageTotal:0,form:{},idx:-1,id:-1,winShow:[],edit:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this,e=this;this.pictLoading=!0;var n={page:this.currentPage,size:this.PageSize};this.$http.post("/merchant/task/taskcenter","application/json",n,(function(n){n.data&&(t.tableData=n.data,t.totalCount=n.total,t.merchant_data=n.guid),e.pictLoading=!1}),(function(n){t.$message({showClose:!0,message:n.msg,type:"error"}),e.pictLoading=!1}))},colorTypeFmt:function(t){return"0"==t?"warning":"1"==t?"info":"-1"==t?"":void 0},statusFmt:function(t){return"0"==t?"已满标":"1"==t?"已完成":"-1"==t?"待投标":void 0},tenderFmt:function(t){return"0"==t?"已投标":"1"==t?"待投标":"2"==t?"待已标":void 0},handleDelete:function(t,e){var n=this;this.$confirm("确定要删除吗？","提示",{type:"warning"}).then((function(){n.$message.success("删除成功"),n.tableData.splice(t,1)})).catch((function(){}))},handleWin:function(t,e){var n=this;this.$confirm("您确定参与投标吗？投标后72小时内必须上传稿件！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={merchantGuid:localStorage.getItem("merchantGuid"),taskGuid:e.guid};n.$http.post("/merchant/task/taskTender","application/json",t,(function(t){t.data?(n.$message.success("投标成功"),n.getData()):n.$message({showClose:!0,message:t.msg,type:"error"})}),(function(t){n.$message({showClose:!0,message:t.msg,type:"error"})}))})).catch((function(){}))},handleWinnerInfo:function(t,e){this.$router.push({path:"/winnerList",query:{row:e}})},handleFind:function(t,e){console.log(e),window.open("http://www.zhubaba.cn/#/qiming/pub?id="+e.guid+"&m=sh")},handleEdit:function(t,e){console.log(e),this.$router.push({path:"/taskEdit",query:{row:e}})},saveEdit:function(){this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功")),this.$set(this.tableData,this.idx,this.form)},handleSizeChange:function(t){this.PageSize=t,this.currentPage=1,this.getData()},handleCurrentChange:function(t){this.currentPage=t,this.getData()},formatDate:function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();e.getHours(),e.getMinutes(),e.getSeconds();return n+"-"+a+"-"+i},rynum_r:function(t){return t.reply_count-t.current_reply_count},t_status:function(t,e){var n=this,a="未投标",i=e.guid;if(this.merchant_data&&this.merchant_data.data)for(var r in this.merchant_data.data){var s=this.merchant_data.data[r];if(s.task_id==i){e.tid=s.tid,e.ren=s.t_status,s.memo&&(e.memo=s.memo),n.winShow[t]=1,0==s.t_status?(a="已投标/待提交稿件",n.edit[t]=2):1==s.t_status?(a="已中标",n.edit[t]=1):2==s.t_status?(a="未中标",n.edit[t]=1):3==s.t_status?(a="已发布",n.edit[t]=1):4==s.t_status&&(a="稿件未提交",n.edit[t]=2);break}n.winShow[t]=2,n.edit[t]=2}return a},formatDateAll:function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),r=e.getHours(),s=e.getMinutes(),o=e.getSeconds();return n+"-"+a+"-"+i+" "+r+":"+s+":"+o}}}),s=r,o=(n("b204"),n("2877")),l=Object(o["a"])(s,a,i,!1,null,"8e14e1a2",null);e["default"]=l.exports},b204:function(t,e,n){"use strict";var a=n("30cf"),i=n.n(a);i.a}}]);