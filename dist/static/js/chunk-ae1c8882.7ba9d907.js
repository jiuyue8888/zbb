(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae1c8882"],{3223:function(e,a,t){},"46c0":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"login-wrap"},[t("div",{staticClass:"ms-login"},[t("div",{staticClass:"ms-title"},[e._v("审核")]),t("el-form",{ref:"login",staticClass:"ms-content",attrs:{model:e.param,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{prop:"username",label:"姓名"}},[t("el-input",{model:{value:e.param.username,callback:function(a){e.$set(e.param,"username",a)},expression:"param.username"}})],1),t("el-form-item",{attrs:{prop:"IDcard",label:"身份证号"}},[t("el-input",{model:{value:e.param.IDcard,callback:function(a){e.$set(e.param,"IDcard",a)},expression:"param.IDcard"}})],1),t("el-form-item",{attrs:{prop:"area",label:"地区"}},[t("el-cascader",{attrs:{options:e.options},on:{change:e.handleAreaChange},model:{value:e.param.area,callback:function(a){e.$set(e.param,"area",a)},expression:"param.area"}})],1),t("el-form-item",{attrs:{prop:"introduce",label:"自我介绍"}},[t("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.param.introduce,callback:function(a){e.$set(e.param,"introduce",a)},expression:"param.introduce"}})],1),t("div",{staticClass:"img-wrap"},[t("div",{staticClass:"crop-demo"},[t("img",{staticClass:"pre-img",attrs:{src:e.param.pic1}}),t("div",{staticClass:"crop-demo-btn"},[e._v("正面照\n\t\t                    "),t("input",{staticClass:"crop-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.setImage1}})])]),t("div",{staticClass:"crop-demo"},[t("img",{staticClass:"pre-img",attrs:{src:e.param.pic2}}),t("div",{staticClass:"crop-demo-btn"},[e._v("反面照\n\t\t                    "),t("input",{staticClass:"crop-input",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.setImage2}})])])]),t("div",{staticClass:"login-btn"},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.submitForm()}}},[e._v("提交")])],1)],1),t("el-dialog",{attrs:{title:"裁剪图片",visible:e.dialogVisible1,width:"30%"},on:{"update:visible":function(a){e.dialogVisible1=a}}},[t("vue-cropper",{ref:"cropper1",staticStyle:{width:"100%",height:"300px"},attrs:{src:e.imgSrc1,ready:e.cropImage1,zoom:e.cropImage1,cropmove:e.cropImage1}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelCrop1}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.dialogVisible1=!1}}},[e._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"裁剪图片",visible:e.dialogVisible2,width:"30%"},on:{"update:visible":function(a){e.dialogVisible2=a}}},[t("vue-cropper",{ref:"cropper2",staticStyle:{width:"100%",height:"300px"},attrs:{src:e.imgSrc2,ready:e.cropImage2,zoom:e.cropImage2,cropmove:e.cropImage2}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancelCrop2}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.dialogVisible2=!1}}},[e._v("确 定")])],1)],1)],1)])},i=[],s=t("95c3"),o=t.n(s),c=t("ef6c"),n={data:function(){return{phoneLogin:!1,param:{username:"",IDcard:"",area:[],weixin:"",introduce:"",pic1:"",pic2:""},rules:{username:[{required:!0,message:"请输入姓名",trigger:"blur"}],IDcard:[{required:!0,message:"请输入身份证号",trigger:"blur"}],area:[{required:!0,message:"请选择地区",trigger:"blur"}],introduce:[{required:!0,message:"请输入自我介绍",trigger:"blur"}],pic1:[{required:!0,message:"请选择身份证正面照",trigger:"blur"}],pic2:[{required:!0,message:"请选择身份证反面照",trigger:"blur"}]},defaultSrc:t("7159"),fileList:[],imgSrc1:"",imgSrc2:"",cropImg1:"",cropImg2:"",dialogVisible1:!1,dialogVisible2:!1,options:c["regionData"],selectedOptions:[]}},components:{VueCropper:o.a},created:function(){this.cropImg1=this.defaultSrc,this.cropImg2=this.defaultSrc},methods:{handleAreaChange:function(e){console.log(e)},submitForm:function(){var e=this;this.$refs.login.validate((function(a){if(!a)return console.log("error submit!!"),!1;var t={merchantGuid:localStorage.getItem("merchantGuid"),realName:e.param.username,idCard:e.param.IDcard,regions:e.param.area,weChatId:e.param.weixin,introduceMyself:e.param.introduce,idCardFacePhoto:e.param.pic1,idCardReversePhoto:e.param.pic2,membership:"0"};e.$http.post("/merchant/audit","application/json",t,(function(a){a.data&&(e.$message.success("提交成功"),e.$router.push("/TaskCenter"))}),(function(a){e.$message({showClose:!0,message:a.msg,type:"error"})}))}))},go:function(){this.$router.push("/TaskCenter")},setImage1:function(e){var a=this,t=e.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a.param.pic1=this.result}},setImage2:function(e){var a=this,t=e.target.files[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a.param.pic2=this.result}},cropImage1:function(){this.cropImg1=this.$refs.cropper1.getCroppedCanvas().toDataURL()},cancelCrop1:function(){this.dialogVisible1=!1,this.cropImg1=this.defaultSrc},cropImage2:function(){this.cropImg2=this.$refs.cropper2.getCroppedCanvas().toDataURL()},cancelCrop2:function(){this.dialogVisible2=!1,this.cropImg2=this.defaultSrc}}},l=n,p=(t("c828"),t("2877")),m=Object(p["a"])(l,r,i,!1,null,"2a129280",null);a["default"]=m.exports},c828:function(e,a,t){"use strict";var r=t("3223"),i=t.n(r);i.a}}]);